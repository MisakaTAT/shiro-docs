<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.25">
    <title>Event | Shiro Docs</title><meta name="description" content="Shiro Docs">
    <link rel="preload" href="/shiro-docs/assets/js/runtime~app.af80136f.js" as="script"><link rel="preload" href="/shiro-docs/assets/css/styles.60db516c.css" as="style"><link rel="preload" href="/shiro-docs/assets/js/567.0421f3cb.js" as="script"><link rel="preload" href="/shiro-docs/assets/js/app.351154cc.js" as="script">
    <link rel="stylesheet" href="/shiro-docs/assets/css/styles.60db516c.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/shiro-docs/" class=""><!----><span class="site-name">Shiro Docs</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/shiro-docs/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/shiro-docs/quickstart/" class="nav-link" aria-label="QuickStart"><!--[--><!--]--> QuickStart <!--[--><!--]--></a></div><div class="navbar-links-item"><a aria-current="page" href="/shiro-docs/event/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Event"><!--[--><!--]--> Event <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/shiro-docs/action/" class="nav-link" aria-label="Action"><!--[--><!--]--> Action <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/MisakaTAT/Shiro" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/shiro-docs/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/shiro-docs/quickstart/" class="nav-link" aria-label="QuickStart"><!--[--><!--]--> QuickStart <!--[--><!--]--></a></div><div class="navbar-links-item"><a aria-current="page" href="/shiro-docs/event/" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Event"><!--[--><!--]--> Event <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/shiro-docs/action/" class="nav-link" aria-label="Action"><!--[--><!--]--> Action <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/MisakaTAT/Shiro" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">Event</p><ul class=""><li><!--[--><a aria-current="page" href="/shiro-docs/event/#序" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="序"><!--[--><!--]--> 序 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/shiro-docs/event/#收到私聊消息" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="收到私聊消息"><!--[--><!--]--> 收到私聊消息 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="event" tabindex="-1"><a class="header-anchor" href="#event" aria-hidden="true">#</a> Event</h1><h2 id="序" tabindex="-1"><a class="header-anchor" href="#序" aria-hidden="true">#</a> 序</h2><div class="custom-container warning"><p class="custom-container-title">提示</p><p>Event 所有的方法均由 <code>com.mikuac.shiro.core.BotPlugin</code> 类提供</p></div><h2 id="收到私聊消息" tabindex="-1"><a class="header-anchor" href="#收到私聊消息" aria-hidden="true">#</a> 收到私聊消息</h2><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">onPrivateMessage</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">Bot</span> bot<span class="token punctuation">,</span> <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">PrivateMessageEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p><strong>事件数据</strong></p><table><thead><tr><th>字段名</th><th>数据类型</th><th>可能的值</th><th>说明</th></tr></thead><tbody><tr><td><code>time</code></td><td>int64</td><td>-</td><td>事件发生的时间戳</td></tr><tr><td><code>self_id</code></td><td>int64</td><td>-</td><td>收到事件的机器人 QQ 号</td></tr><tr><td><code>post_type</code></td><td>string</td><td><code>message</code></td><td>上报类型</td></tr><tr><td><code>message_type</code></td><td>string</td><td><code>private</code></td><td>消息类型</td></tr><tr><td><code>sub_type</code></td><td>string</td><td><code>friend</code>、<code>group</code>、<code>group_self</code>、<code>other</code></td><td>消息子类型, 如果是好友则是 <code>friend</code>, 如果是群临时会话则是 <code>group</code>, 如果是在群中自身发送则是 <code>group_self</code></td></tr><tr><td><code>temp_source</code></td><td>int</td><td>-</td><td>临时会话来源</td></tr><tr><td><code>message_id</code></td><td>int32</td><td>-</td><td>消息 ID</td></tr><tr><td><code>user_id</code></td><td>int64</td><td>-</td><td>发送者 QQ 号</td></tr><tr><td><code>message</code></td><td>message</td><td>-</td><td>消息内容</td></tr><tr><td><code>raw_message</code></td><td>string</td><td>-</td><td>原始消息内容</td></tr><tr><td><code>font</code></td><td>int32</td><td>-</td><td>字体</td></tr><tr><td><code>sender</code></td><td>object</td><td>-</td><td>发送人信息</td></tr></tbody></table><p>其中 <code>sender</code> 字段的内容如下：</p><table><thead><tr><th>字段名</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td><code>user_id</code></td><td>int64</td><td>发送者 QQ 号</td></tr><tr><td><code>nickname</code></td><td>string</td><td>昵称</td></tr><tr><td><code>sex</code></td><td>string</td><td>性别, <code>male</code> 或 <code>female</code> 或 <code>unknown</code></td></tr><tr><td><code>age</code></td><td>int32</td><td>年龄</td></tr></tbody></table><p>需要注意的是, <code>sender</code> 中的各字段是尽最大努力提供的, 也就是说, 不保证每个字段都一定存在, 也不保证存在的字段都是完全正确的 ( 缓存可能过期 ) 。</p><p>其中 <code>temp_source</code> 的类型如下：</p><table><thead><tr><th>类型</th><th>来源</th></tr></thead><tbody><tr><td>0</td><td>群聊</td></tr><tr><td>1</td><td>QQ咨询</td></tr><tr><td>2</td><td>查找</td></tr><tr><td>3</td><td>QQ电影</td></tr><tr><td>4</td><td>热聊</td></tr><tr><td>6</td><td>验证消息</td></tr><tr><td>7</td><td>多人聊天</td></tr><tr><td>8</td><td>约会</td></tr><tr><td>9</td><td>通讯录</td></tr></tbody></table><p><strong>快速操作</strong></p><table><thead><tr><th>字段名</th><th>数据类型</th><th>说明</th><th>默认情况</th></tr></thead><tbody><tr><td><code>reply</code></td><td>message</td><td>要回复的内容</td><td>不回复</td></tr><tr><td><code>auto_escape</code></td><td>boolean</td><td>消息内容是否作为纯文本发送 ( 即不解析 CQ 码 ) , 只在 <code>reply</code> 字段是字符串时有效</td><td>不转义</td></tr></tbody></table><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/MisakaTAT/shiro-docs/edit/main/event/README.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><!--]--> 编辑此页 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">10/24/2021, 11:20:57 AM</span></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: i@mikuac.com">Zero</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/shiro-docs/assets/js/runtime~app.af80136f.js" defer></script><script src="/shiro-docs/assets/js/567.0421f3cb.js" defer></script><script src="/shiro-docs/assets/js/app.351154cc.js" defer></script>
  </body>
</html>
